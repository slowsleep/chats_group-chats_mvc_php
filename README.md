# module58

Чат с возможность редактирования, удаления, пересылки собственного сообщения.
С пользователями можно вступать в диалоги.
Пользователей можно добавлять в контакты.
С собственными контактами можно создавать групповые чаты.
Присутствуют звуковые уведомления при поступлении новых сообщений.
Можно выключить уведомления на определенный чат.
Звук уведомления можно изменить в настройках пользователя.
В настройках пользователя так же можно изменить: ник, почту, аватар, видимость почты при поиске.

## Как запустить проект

Скопировать файл с переменными окружения
```sh
$ cp .env.example .env
```
И изменить его со своими значениями для подключения к бд

Так же надо создать файл `.env` и в папке `/code` на основе `/code/.env.example`. В этот файл нужно перенести значения для подключения к бд из `/.env`

Настроить автозагрузку для проекта с помощью composer и установить зависимости
```sh
$ cd code/
```
```sh
$ composer install
```

Запустить контейнеры
```sh
$ docker compose up -d
```

На домашнем хосте открыть файл `/etc/hosts`(linux), `/private/etc/hosts`(macos), `c:\windows\system32\drivers\etc\hosts`(windows) и добавить строку
```
127.0.0.1   webchat.local
```

Открыть ссылку и наслаждаться [http://webchat.local](http://webchat.local)


Чтобы создать все нужные таблицы для проекта, просто перейдите по ссылке [http://webchat.local/install.php](http://webchat.local/install.php) (этот скрипт можно использовать так же и для частичного создания таблиц)

## Как использовать почту для отправки сообщений

[Гайд от Яндекса по использованию их почты для отправки писем по протоколу SMTP](https://yandex.ru/support/mail/mail-clients/others.html#smtpsetting)

Полученные значения вставляем в `/code/.env`
При использовании яндекса для smpt, значение для `MAIL_HOST` (адрес почтового сервера) в `/code/.env` будет
```
MAIL_HOST=smtp.yandex.ru
```